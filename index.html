<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

        <title>COMP3612 Assignment 2</title>

        <!-- Font Awesome -->
        <!-- <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel='stylesheet'> -->
        <!-- Font -->
        <link href="https://fonts.googleapis.com/css2?family=Nova+Mono&family=Oswald:wght@200..700&display=swap" rel="stylesheet">
        <style type="text/tailwindcss">
            /* Global Styles */
            :root {
                font-family: 'Oswald', sans-serif;
            }

            /* Tailwind Variables */
            @theme {

            }

            @layer components {
                .link {
                    @apply hover:underline hover:cursor-pointer;
                }
            }

        </style>
    </head>
    <body>
        <header class="flex flex-row my-6 mx-16 max-w-dvw">
            <button class="text-4xl font-medium">Logo</button> <!-- placeholder -->
            <nav id="nav" class="text-2xl font-normal m-auto">
                <button route="home" class="link">Home</button> |
                <button route="women" class="link">Women</button> |
                <button route="men" class="link">Men</button> |
                <button route="browser" class="link">Browse</button> |
                <button route="about" class="link">About</button>
            </nav>

            <!-- span of this button will be changed dynamically -->
            <button id="header-cart" class="text-2xl font-normal justify-right my-auto">
                Cart <span id="cart-counter" class="text-lg my-auto px-2 bg-blue-500 border-blue-500 rounded-full">0</span>
            </button>
        </header>
        <main>
           
            <!-- Add dynamic pages/popups here as articles/dialogs -->
            <article class="block" id="home"> 
            </article>
            <article class="block" id="singleproduct">
                <div class="px-6">
                    <div id="test">
                        <p id="breadcrumb" class="px-2 py-4 text-md">
                            <!-- set event handlers for all of these -->
                            <button id="crumb-home" class="link underline">Home</button> >
                            <button id="crumb-gender" class="link underline">Gender</button> > <!-- Populate the route and text content with JS-->
                            <button id="crumb-category" class="link underline">Category</button> > <!-- This too -->
                            <span id="crumb-product">Product</span> <!-- This one isn't a link, just change text content-->
                        </p>
                        <div id="product" class="flex flex-row gap-6">
                            <div id="product-images" class="flex flex-col">
                                <img id="product-images-main" class="flex w-full h-2/3 mb-4">
                                <div id="product-images-sub" class="flex flex-row w-full h-1/3 gap-4 mt-4">
                                    <img class="flex w-1/2">
                                    <img class="flex w-1/2">
                                </div>
                            </div>
                            <div id="product-description" class="">

                            </div>
                        </div>
                    </div>

                </div>
            </article>
            <article class="hidden" id="browser"></article>
            <dialog id="about"></dialog>
        </main>
        <footer>
            
        </footer>
        <script src="index.js"></script>
        <script>
            // Test scripts
            document.addEventListener("DOMContentLoaded", () => {
                const buttons = document.querySelectorAll("#nav button").forEach((b) => b.addEventListener("click", route));
            });

            // Destination should be id of the "route" (as in the id of the element we are swapping to)
            // this is just simulating routing
            function route(e) {
                const pages = document.querySelectorAll("main > *");
                for(const page of pages) {
                    console.log(page.id, e.target.getAttribute("route"));
                    if(page.id != e.target.getAttribute("route")) {
                        page.classList.remove("block");
                        page.classList.add("hidden");
                    } else {
                        page.classList.remove("hidden");
                        page.classList.add("block");
                    }
                }
            }
        </script>
    </body>
</html>